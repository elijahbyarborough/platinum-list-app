{"_id":"fetch-mock-cache","_rev":"11-505a64d919cbafe2426695f88431fc16","name":"fetch-mock-cache","dist-tags":{"latest":"2.3.1"},"versions":{"2.0.0":{"name":"fetch-mock-cache","version":"2.0.0","keywords":["fetch","mock","fetch-mock","node:test","vitest","jest","cache","bun","deno"],"author":{"name":"Gadi Cohen","email":"dragon@wastelands.net"},"license":"MIT","_id":"fetch-mock-cache@2.0.0","maintainers":[{"name":"gadicc","email":"dragon@wastelands.net"}],"homepage":"https://github.com/gadicc/fetch-mock-cache#readme","bugs":{"url":"https://github.com/gadicc/fetch-mock-cache/issues"},"dist":{"shasum":"231d05929c144857538db487b441964bcd3fcadf","tarball":"https://registry.npmjs.org/fetch-mock-cache/-/fetch-mock-cache-2.0.0.tgz","fileCount":47,"integrity":"sha512-dfWNYNOSM8AoEjEtPHr3C0S7aYQQneX2gQ4N5palgS2Cyb4360SScpMkMskAlpiNBQMXl3iL6iz43PuaW2k2/Q==","signatures":[{"sig":"MEUCIQD5LxmcolLheS5HSJxren7bbAWlxjcl57Syo1aIdD1KiwIgKYeWJFICCgsw+cC6mIYYzK7MMnOHXf9rW2FPPMUvJYA=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":66960},"main":"lib/index.js","type":"module","types":"lib/index.d.ts","gitHead":"d78a345d80fbe4946138063b6f09ae6a423c1e8b","scripts":{"ci":"yarn tsc --noEmit && yarn lint && yarn coverage && cd tests/runtimes && ./test.sh","lint":"eslint src","test":"node --experimental-vm-modules --test --import tsx `glob 'src/**/*.spec.ts'`","build":"tsc","coverage":"test --coverage","prettier":"prettier -w src","test:all":"yarn test && yarn tsc && yarn lint","prepublishOnly":"yarn build"},"_npmUser":{"name":"gadicc","email":"dragon@wastelands.net"},"prettier":{},"repository":{"url":"git+https://github.com/gadicc/fetch-mock-cache.git","type":"git"},"_npmVersion":"10.8.2","description":"Caching mock fetch implementation for all runtimes and frameworks.","directories":{},"_nodeVersion":"20.17.0","dependencies":{"debug":"^4.3.4","filenamify-url":"2.1.2"},"_hasShrinkwrap":false,"devDependencies":{"tsx":"^4.19.1","glob":"^11.0.0","eslint":"^9.12.0","expect":"^29.7.0","globals":"^15.10.0","prettier":"^3.0.0","@eslint/js":"^9.12.0","typescript":"^5.6.2","@types/node":"^20.4.2","@types/debug":"^4.1.8","semantic-release":"^24.1.2","typescript-eslint":"^8.8.0","eslint-config-prettier":"^9.1.0"},"_npmOperationalInternal":{"tmp":"tmp/fetch-mock-cache_2.0.0_1728642752854_0.1563199923757943","host":"s3://npm-registry-packages"}},"2.0.1":{"name":"fetch-mock-cache","version":"2.0.1","keywords":["fetch","mock","fetch-mock","node:test","vitest","jest","cache","bun","deno"],"author":{"name":"Gadi Cohen","email":"dragon@wastelands.net"},"license":"MIT","_id":"fetch-mock-cache@2.0.1","maintainers":[{"name":"gadicc","email":"dragon@wastelands.net"}],"homepage":"https://github.com/gadicc/fetch-mock-cache#readme","bugs":{"url":"https://github.com/gadicc/fetch-mock-cache/issues"},"dist":{"shasum":"cf99114d98500dc111aa474bd6cd5f18351f53ee","tarball":"https://registry.npmjs.org/fetch-mock-cache/-/fetch-mock-cache-2.0.1.tgz","fileCount":37,"integrity":"sha512-Ct6GQJJfmNOW+2i2pQsyKYEc+M90oN1gpFZ5k09HD+45gZNhH2trtnsItyu8G77DrZB0fmR67XguOhGZ97zCxg==","signatures":[{"sig":"MEUCIQCaSQgucGQ42XFswKeR5L3g1Oz4MY9hZ37Dcm7y+B9DzQIgIFQU4Lf+E3nnaEzRnbgQOTerGwCO5/1XqgVTU0VVcV4=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":57274},"main":"lib/index.js","type":"module","types":"lib/index.d.ts","gitHead":"e43ef875c0c299f2a918f46e208bcde668f05f39","scripts":{"ci":"yarn tsc --noEmit && yarn lint && yarn coverage && cd tests/runtimes && ./test.sh","lint":"eslint src","test":"node --experimental-vm-modules --test --import tsx `glob 'src/**/*.spec.ts'`","build":"tsc","coverage":"test --coverage","prettier":"prettier -w src","test:all":"yarn test && yarn tsc && yarn lint","prepublishOnly":"yarn build"},"_npmUser":{"name":"gadicc","email":"dragon@wastelands.net"},"prettier":{},"repository":{"url":"git+https://github.com/gadicc/fetch-mock-cache.git","type":"git"},"_npmVersion":"10.9.0","description":"Caching mock fetch implementation for all runtimes and frameworks.","directories":{},"_nodeVersion":"20.17.0","dependencies":{"debug":"^4.3.4","filenamify-url":"2.1.2"},"_hasShrinkwrap":false,"devDependencies":{"tsx":"^4.19.1","glob":"^11.0.0","eslint":"^9.12.0","expect":"^29.7.0","globals":"^15.10.0","prettier":"^3.0.0","@eslint/js":"^9.12.0","typescript":"^5.6.2","@types/node":"^20.4.2","@types/debug":"^4.1.8","semantic-release":"^24.1.2","typescript-eslint":"^8.8.0","eslint-config-prettier":"^9.1.0","conventional-changelog-conventionalcommits":"^8.0.0"},"_npmOperationalInternal":{"tmp":"tmp/fetch-mock-cache_2.0.1_1728644665407_0.2638234584052579","host":"s3://npm-registry-packages"}},"2.0.2":{"name":"fetch-mock-cache","version":"2.0.2","keywords":["fetch","mock","fetch-mock","node:test","vitest","jest","cache","bun","deno"],"author":{"name":"Gadi Cohen","email":"dragon@wastelands.net"},"license":"MIT","_id":"fetch-mock-cache@2.0.2","maintainers":[{"name":"gadicc","email":"dragon@wastelands.net"}],"homepage":"https://github.com/gadicc/fetch-mock-cache#readme","bugs":{"url":"https://github.com/gadicc/fetch-mock-cache/issues"},"dist":{"shasum":"70f47936b7b734b655128baf27827272b6b38421","tarball":"https://registry.npmjs.org/fetch-mock-cache/-/fetch-mock-cache-2.0.2.tgz","fileCount":38,"integrity":"sha512-myDp9uYZzFccygEHFiTDv1hGBd91Sy8CrktiJOT7+2Vpow+bbgwOGbNKevsfgJSJjmxsGVT/QViKD835CoF+mQ==","signatures":[{"sig":"MEQCIHqZNzdSql8DfLMCJP/ci9VAJ9SYrRbh6/QK0KUIpZKqAiAJ2qLQf0U9spUyo3OmBcLG0FGN4Y6knB4dMETEPN8iFg==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":57885},"main":"lib/index.js","type":"module","types":"lib/index.d.ts","gitHead":"ac2320264042817a7149871cdcba71476fa0e620","scripts":{"ci":"yarn tsc --noEmit && yarn lint && yarn coverage && cd tests/runtimes && ./test.sh","lint":"eslint src","test":"node --experimental-vm-modules --test --import tsx `glob 'src/**/*.spec.ts'`","build":"tsc","coverage":"test --coverage","prettier":"prettier -w src","test:all":"yarn test && yarn tsc && yarn lint","prepublishOnly":"yarn build"},"_npmUser":{"name":"gadicc","email":"dragon@wastelands.net"},"prettier":{},"repository":{"url":"git+https://github.com/gadicc/fetch-mock-cache.git","type":"git"},"_npmVersion":"10.9.0","description":"Caching mock fetch implementation for all runtimes and frameworks.","directories":{},"_nodeVersion":"20.17.0","dependencies":{"debug":"^4.3.4","filenamify-url":"2.1.2"},"_hasShrinkwrap":false,"devDependencies":{"tsx":"^4.19.1","glob":"^11.0.0","eslint":"^9.12.0","expect":"^29.7.0","globals":"^15.10.0","prettier":"^3.0.0","@eslint/js":"^9.12.0","typescript":"^5.6.2","@types/node":"^20.4.2","@types/debug":"^4.1.8","semantic-release":"^24.1.2","typescript-eslint":"^8.8.0","eslint-config-prettier":"^9.1.0","@sebbo2002/semantic-release-jsr":"^2.0.1","conventional-changelog-conventionalcommits":"^8.0.0"},"_npmOperationalInternal":{"tmp":"tmp/fetch-mock-cache_2.0.2_1728891707471_0.9098497552595195","host":"s3://npm-registry-packages"}},"2.0.3":{"name":"fetch-mock-cache","version":"2.0.3","keywords":["fetch","mock","fetch-mock","node:test","vitest","jest","cache","bun","deno"],"author":{"name":"Gadi Cohen","email":"dragon@wastelands.net"},"license":"MIT","_id":"fetch-mock-cache@2.0.3","maintainers":[{"name":"gadicc","email":"dragon@wastelands.net"}],"homepage":"https://github.com/gadicc/fetch-mock-cache#readme","bugs":{"url":"https://github.com/gadicc/fetch-mock-cache/issues"},"dist":{"shasum":"7bce1d14a4219b20d9e4be91cfb651151cae6508","tarball":"https://registry.npmjs.org/fetch-mock-cache/-/fetch-mock-cache-2.0.3.tgz","fileCount":39,"integrity":"sha512-VWq+PjAw8wulDw5FTeXm8ISLFLanyZmKMx0qYksiBeacjcGoLoIvCW9FVYv6/eewWg1XUDcZq5PctCmP6tiUIQ==","signatures":[{"sig":"MEUCID070mbsf0JoQrMCQ8GLKP52QWwgGc1j7VAO5HtHm9hgAiEA871wvb3JgWzNxHQWgIvQu4aWPpwWrlQiuJ3txDyW/0s=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":77986},"main":"lib/index.js","type":"module","types":"lib/index.d.ts","gitHead":"2674cec7aea28753440878b679815fde6b7ecf58","scripts":{"ci":"tsc --noEmit && npm run lint && npm run coverage && cd tests/runtimes && ./test.sh","lint":"eslint src","test":"node --experimental-vm-modules --test --import tsx `glob 'src/**/*.spec.ts'`","build":"tsc","coverage":"node --experimental-vm-modules --test --import tsx --experimental-test-coverage --test-reporter=lcov --test-reporter-destination=lcov.info `glob 'src/**/*.spec.ts'`","prettier":"prettier -w src","test:all":"npm run test && npm run tsc && npm run lint","prepublishOnly":"npm run build"},"_npmUser":{"name":"gadicc","email":"dragon@wastelands.net"},"prettier":{},"repository":{"url":"git+https://github.com/gadicc/fetch-mock-cache.git","type":"git"},"_npmVersion":"10.9.0","description":"Caching mock fetch implementation for all runtimes and frameworks.","directories":{},"_nodeVersion":"20.18.0","dependencies":{"debug":"^4.3.4","filenamify-url":"2.1.2"},"_hasShrinkwrap":false,"devDependencies":{"tsx":"^4.19.1","glob":"^11.0.0","eslint":"^9.12.0","expect":"^29.7.0","globals":"^15.10.0","prettier":"^3.0.0","@eslint/js":"^9.12.0","typescript":"^5.6.2","@types/node":"^20.4.2","@types/debug":"^4.1.8","semantic-release":"^24.1.2","typescript-eslint":"^8.8.0","eslint-config-prettier":"^9.1.0","@sebbo2002/semantic-release-jsr":"^2.0.1","conventional-changelog-conventionalcommits":"^8.0.0"},"_npmOperationalInternal":{"tmp":"tmp/fetch-mock-cache_2.0.3_1729760877710_0.08338312522178892","host":"s3://npm-registry-packages"}},"2.1.0":{"name":"fetch-mock-cache","version":"2.1.0","keywords":["fetch","mock","fetch-mock","node:test","vitest","jest","cache","bun","deno"],"author":{"name":"Gadi Cohen","email":"dragon@wastelands.net"},"license":"MIT","_id":"fetch-mock-cache@2.1.0","maintainers":[{"name":"gadicc","email":"dragon@wastelands.net"}],"homepage":"https://github.com/gadicc/fetch-mock-cache#readme","bugs":{"url":"https://github.com/gadicc/fetch-mock-cache/issues"},"dist":{"shasum":"7defcbba9099f23ddcd482473bc7a857cb354f96","tarball":"https://registry.npmjs.org/fetch-mock-cache/-/fetch-mock-cache-2.1.0.tgz","fileCount":41,"integrity":"sha512-JUbM6qOrSDKNI6PSbXPWECjMMjp+N0T5z1QfIAFCMX2wTJo/1csnEwHgPDKyYPf09J5jHgG+v/KdwshkQBe1lg==","signatures":[{"sig":"MEQCIBxcfRpxXeeGbLsH0OCQD8H8Z1wjpdRt2hxPeoUr5O5fAiBZp5YGJBVLVDHoL3ePhZquGO5YAIFcoUjE3FM5UvE0Sw==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":85400},"main":"lib/index.js","type":"module","types":"lib/index.d.ts","gitHead":"08246d44145074c4d28878695aef240fd32729a0","scripts":{"ci":"tsc --noEmit && npm run lint && npm run coverage && cd tests/runtimes && ./test.sh","lint":"eslint src","test":"node --experimental-vm-modules --test --import tsx `glob 'src/**/*.spec.ts'`","build":"tsc","coverage":"node --experimental-vm-modules --test --import tsx --experimental-test-coverage --test-reporter=lcov --test-reporter-destination=lcov.info `glob 'src/**/*.spec.ts'`","prettier":"prettier -w src","test:all":"npm run test && npm run tsc && npm run lint","prepublishOnly":"npm run build"},"_npmUser":{"name":"gadicc","email":"dragon@wastelands.net"},"prettier":{},"repository":{"url":"git+https://github.com/gadicc/fetch-mock-cache.git","type":"git"},"_npmVersion":"10.9.0","description":"Caching mock fetch implementation for all runtimes and frameworks.","directories":{},"_nodeVersion":"20.18.0","dependencies":{"debug":"^4.3.4","filenamify-url":"2.1.2"},"_hasShrinkwrap":false,"devDependencies":{"tsx":"^4.19.1","glob":"^11.0.0","eslint":"^9.12.0","expect":"^29.7.0","globals":"^15.10.0","prettier":"^3.0.0","@eslint/js":"^9.12.0","typescript":"^5.6.2","@types/node":"^20.4.2","@types/debug":"^4.1.8","semantic-release":"^24.1.2","typescript-eslint":"^8.8.0","eslint-config-prettier":"^9.1.0","@sebbo2002/semantic-release-jsr":"^2.0.1","conventional-changelog-conventionalcommits":"^8.0.0"},"_npmOperationalInternal":{"tmp":"tmp/fetch-mock-cache_2.1.0_1729938663068_0.703480434781411","host":"s3://npm-registry-packages"}},"2.1.1":{"name":"fetch-mock-cache","version":"2.1.1","keywords":["fetch","mock","fetch-mock","node:test","vitest","jest","cache","bun","deno"],"author":{"name":"Gadi Cohen","email":"dragon@wastelands.net"},"license":"MIT","_id":"fetch-mock-cache@2.1.1","maintainers":[{"name":"gadicc","email":"dragon@wastelands.net"}],"homepage":"https://github.com/gadicc/fetch-mock-cache#readme","bugs":{"url":"https://github.com/gadicc/fetch-mock-cache/issues"},"dist":{"shasum":"18f4f58a1ca13dfc7821268790acc07c131c761c","tarball":"https://registry.npmjs.org/fetch-mock-cache/-/fetch-mock-cache-2.1.1.tgz","fileCount":43,"integrity":"sha512-6Zub8b9/fAhq4IP14gj2WExCuoOJYcscbtv3Bgln+yiJ3u43YpnHSD0ZSdsr1pZIizPabrfLqH8oBOfa9wuieA==","signatures":[{"sig":"MEUCIQC0aTHWpNB/5RWGHzDljlMK8RICNJcjLMSxUsTv126BHwIgY0/l+Nt8DluvNhNwRiRcq45cTu+Y7gZMfn7eAQ2yhI4=","keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U"}],"unpackedSize":88723},"main":"lib/index.js","type":"module","types":"lib/index.d.ts","gitHead":"fed88a4276dfc43697bd7a0a053111bcaf427add","scripts":{"ci":"tsc --noEmit && npm run lint && npm run coverage && cd tests/runtimes && ./test.sh","lint":"eslint src","test":"node --experimental-vm-modules --test --import tsx `glob 'src/**/*.spec.ts'`","build":"tsc","coverage":"node --experimental-vm-modules --test --import tsx --experimental-test-coverage --test-reporter=lcov --test-reporter-destination=lcov.info `glob 'src/**/*.spec.ts'`","prettier":"prettier -w src","test:all":"npm run test && npm run build && npm run lint","prepublishOnly":"npm run build"},"_npmUser":{"name":"gadicc","email":"dragon@wastelands.net"},"prettier":{},"repository":{"url":"git+https://github.com/gadicc/fetch-mock-cache.git","type":"git"},"_npmVersion":"10.9.0","description":"Caching mock fetch implementation for all runtimes and frameworks.","directories":{},"_nodeVersion":"20.18.3","dependencies":{"debug":"^4.3.4","filenamify-url":"2.1.2"},"_hasShrinkwrap":false,"devDependencies":{"tsx":"^4.19.1","glob":"^11.0.0","eslint":"^9.12.0","expect":"^29.7.0","globals":"^15.10.0","prettier":"^3.0.0","@eslint/js":"^9.12.0","typescript":"^5.6.2","@types/node":"^20.4.2","@types/debug":"^4.1.8","semantic-release":"^24.1.2","typescript-eslint":"^8.8.0","eslint-config-prettier":"^9.1.0","@sebbo2002/semantic-release-jsr":"^2.0.1","conventional-changelog-conventionalcommits":"^8.0.0"},"_npmOperationalInternal":{"tmp":"tmp/fetch-mock-cache_2.1.1_1740648440296_0.9604838303768872","host":"s3://npm-registry-packages-npm-production"}},"2.1.2":{"name":"fetch-mock-cache","version":"2.1.2","keywords":["fetch","mock","fetch-mock","node:test","vitest","jest","cache","bun","deno"],"author":{"name":"Gadi Cohen","email":"dragon@wastelands.net"},"license":"MIT","_id":"fetch-mock-cache@2.1.2","maintainers":[{"name":"gadicc","email":"dragon@wastelands.net"}],"homepage":"https://github.com/gadicc/fetch-mock-cache#readme","bugs":{"url":"https://github.com/gadicc/fetch-mock-cache/issues"},"dist":{"shasum":"d7493fb816f5a80c3fd4ad33ca9b04a00b985a12","tarball":"https://registry.npmjs.org/fetch-mock-cache/-/fetch-mock-cache-2.1.2.tgz","fileCount":43,"integrity":"sha512-zTB22/qI99F7w9z9kJAYwBrxk2WzZKMo05cjBZS7dqE+vZmAMe3DNtC4zrVmWB7BoyXU6VECXUbmsi3z/kHZMg==","signatures":[{"sig":"MEQCIEcFkEXPkC8xOef3sBXXEiHxAUXXnVZ0qbaAGV4Mlj5sAiB8JKgxQGjTmA2dfEQLxrQdtubkDLJ6fxtL6Wk5xkYeZA==","keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U"}],"unpackedSize":89490},"main":"lib/index.js","type":"module","types":"lib/index.d.ts","gitHead":"3f954f9d6beed58e5d0a138d50f28de9ef5066a5","scripts":{"ci":"tsc --noEmit && npm run lint && npm run coverage && cd tests/runtimes && ./test.sh","lint":"eslint src","test":"node --experimental-vm-modules --test --import tsx `glob 'src/**/*.spec.ts'`","build":"tsc","coverage":"node --experimental-vm-modules --test --import tsx --experimental-test-coverage --test-reporter=lcov --test-reporter-destination=lcov.info `glob 'src/**/*.spec.ts'`","prettier":"prettier -w src","test:all":"npm run test && npm run build && npm run lint","prepublishOnly":"npm run build"},"_npmUser":{"name":"gadicc","email":"dragon@wastelands.net"},"prettier":{},"repository":{"url":"git+https://github.com/gadicc/fetch-mock-cache.git","type":"git"},"_npmVersion":"10.9.0","description":"Caching mock fetch implementation for all runtimes and frameworks.","directories":{},"_nodeVersion":"20.18.3","dependencies":{"debug":"^4.3.4","filenamify-url":"2.1.2"},"_hasShrinkwrap":false,"devDependencies":{"tsx":"^4.19.1","glob":"^11.0.0","eslint":"^9.12.0","expect":"^29.7.0","globals":"^15.10.0","prettier":"^3.0.0","@eslint/js":"^9.12.0","typescript":"^5.6.2","@types/node":"^20.4.2","@types/debug":"^4.1.8","semantic-release":"^24.1.2","typescript-eslint":"^8.8.0","eslint-config-prettier":"^9.1.0","@sebbo2002/semantic-release-jsr":"^2.0.1","conventional-changelog-conventionalcommits":"^8.0.0"},"_npmOperationalInternal":{"tmp":"tmp/fetch-mock-cache_2.1.2_1740650662463_0.6499972624808381","host":"s3://npm-registry-packages-npm-production"}},"2.1.3":{"name":"fetch-mock-cache","version":"2.1.3","keywords":["fetch","mock","fetch-mock","node:test","vitest","jest","cache","bun","deno"],"author":{"name":"Gadi Cohen","email":"dragon@wastelands.net"},"license":"MIT","_id":"fetch-mock-cache@2.1.3","maintainers":[{"name":"gadicc","email":"dragon@wastelands.net"}],"homepage":"https://github.com/gadicc/fetch-mock-cache#readme","bugs":{"url":"https://github.com/gadicc/fetch-mock-cache/issues"},"dist":{"shasum":"77e85c7b7d20bc7d942b7a13b37c06a55c4793ef","tarball":"https://registry.npmjs.org/fetch-mock-cache/-/fetch-mock-cache-2.1.3.tgz","fileCount":43,"integrity":"sha512-fiQO09fEhN6ZY7GMb71cs9P09B3lBgGQ9CygydJHKQWZQv95bzsyl6dJERHuy34tQyG0gsHZK1pR/6Pkj2b9Qw==","signatures":[{"sig":"MEQCICmvD3UtsacASGLQLHMdorJEWm3/9JQPRFTIOc0K1eVOAiBdouEklzxl2vzk8ZBPDUkx1uVN5nwIZPasA+1xseQhWQ==","keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U"}],"unpackedSize":89492},"main":"lib/index.js","type":"module","types":"lib/index.d.ts","gitHead":"f8e884d7e76d1459c5b2093ee89dbd94ee12085a","scripts":{"ci":"tsc --noEmit && npm run lint && npm run coverage && cd tests/runtimes && ./test.sh","lint":"eslint src","test":"node --experimental-vm-modules --test --import tsx `glob 'src/**/*.spec.ts'`","build":"tsc","coverage":"node --experimental-vm-modules --test --import tsx --experimental-test-coverage --test-reporter=lcov --test-reporter-destination=lcov.info `glob 'src/**/*.spec.ts'`","prettier":"prettier -w src","test:all":"npm run test && npm run build && npm run lint","prepublishOnly":"npm run build"},"_npmUser":{"name":"gadicc","email":"dragon@wastelands.net"},"prettier":{},"repository":{"url":"git+https://github.com/gadicc/fetch-mock-cache.git","type":"git"},"_npmVersion":"10.9.0","description":"Caching mock fetch implementation for all runtimes and frameworks.","directories":{},"_nodeVersion":"20.18.3","dependencies":{"debug":"^4.3.4","filenamify-url":"2.1.2"},"_hasShrinkwrap":false,"devDependencies":{"tsx":"^4.19.1","glob":"^11.0.0","eslint":"^9.12.0","expect":"^29.7.0","globals":"^15.10.0","prettier":"^3.0.0","@eslint/js":"^9.12.0","typescript":"^5.6.2","@types/node":"^20.4.2","@types/debug":"^4.1.8","semantic-release":"^24.1.2","typescript-eslint":"^8.8.0","eslint-config-prettier":"^9.1.0","@sebbo2002/semantic-release-jsr":"^2.0.1","conventional-changelog-conventionalcommits":"^8.0.0"},"_npmOperationalInternal":{"tmp":"tmp/fetch-mock-cache_2.1.3_1740651361016_0.9565838628409731","host":"s3://npm-registry-packages-npm-production"}},"2.2.0":{"name":"fetch-mock-cache","version":"2.2.0","keywords":["fetch","mock","fetch-mock","node:test","vitest","jest","cache","bun","deno"],"author":{"name":"Gadi Cohen","email":"dragon@wastelands.net"},"license":"MIT","_id":"fetch-mock-cache@2.2.0","maintainers":[{"name":"gadicc","email":"dragon@wastelands.net"}],"homepage":"https://github.com/gadicc/fetch-mock-cache#readme","bugs":{"url":"https://github.com/gadicc/fetch-mock-cache/issues"},"dist":{"shasum":"8ff52e0fb996b616fbb4727ec983ebb3992fb08c","tarball":"https://registry.npmjs.org/fetch-mock-cache/-/fetch-mock-cache-2.2.0.tgz","fileCount":43,"integrity":"sha512-Gnkbnj37mwBuMAsdrV65JkkmcrWuhStk/mTyQh7QD9kz3ilmz30GFTOU61tRNjUzeFi0ehnMEK+TFyJy2eWF7A==","signatures":[{"sig":"MEYCIQCHURQhjAV2P95396gnfB60d8qs8j+WLbeHz6JBOwbT/gIhANjt1qDLXJu9t94Yzq7os0LvvfZWharSGFwWHr84mBFP","keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U"}],"unpackedSize":92243},"main":"lib/index.js","type":"module","types":"lib/index.d.ts","gitHead":"f5456ad8ef6a1f6118aad5f7bf563a1ee58a457b","scripts":{"ci":"tsc --noEmit && npm run lint && npm run coverage && cd tests/runtimes && ./test.sh","lint":"eslint src","test":"node --experimental-vm-modules --test --import tsx `glob 'src/**/*.spec.ts'`","build":"tsc","coverage":"node --experimental-vm-modules --test --import tsx --experimental-test-coverage --test-reporter=lcov --test-reporter-destination=lcov.info `glob 'src/**/*.spec.ts'`","prettier":"prettier -w src","test:all":"npm run test && npm run build && npm run lint","prepublishOnly":"npm run build"},"_npmUser":{"name":"gadicc","email":"dragon@wastelands.net"},"prettier":{},"repository":{"url":"git+https://github.com/gadicc/fetch-mock-cache.git","type":"git"},"_npmVersion":"10.9.0","description":"Caching mock fetch implementation for all runtimes and frameworks.","directories":{},"_nodeVersion":"20.19.4","dependencies":{"debug":"^4.3.4","filenamify-url":"2.1.2"},"_hasShrinkwrap":false,"devDependencies":{"tsx":"^4.19.1","glob":"^11.0.0","eslint":"^9.12.0","expect":"^29.7.0","globals":"^15.10.0","prettier":"^3.0.0","@eslint/js":"^9.12.0","typescript":"^5.6.2","@types/node":"^20.4.2","@types/debug":"^4.1.8","semantic-release":"^24.1.2","typescript-eslint":"^8.8.0","eslint-config-prettier":"^9.1.0","@sebbo2002/semantic-release-jsr":"^2.0.1","conventional-changelog-conventionalcommits":"^8.0.0"},"_npmOperationalInternal":{"tmp":"tmp/fetch-mock-cache_2.2.0_1755353244143_0.7737009221951521","host":"s3://npm-registry-packages-npm-production"}},"2.3.0":{"name":"fetch-mock-cache","version":"2.3.0","keywords":["fetch","mock","fetch-mock","node:test","vitest","jest","cache","bun","deno"],"author":{"name":"Gadi Cohen","email":"dragon@wastelands.net"},"license":"MIT","_id":"fetch-mock-cache@2.3.0","maintainers":[{"name":"gadicc","email":"dragon@wastelands.net"}],"homepage":"https://github.com/gadicc/fetch-mock-cache#readme","bugs":{"url":"https://github.com/gadicc/fetch-mock-cache/issues"},"dist":{"shasum":"7b798becc699d079970bb455fb37b217794da9a0","tarball":"https://registry.npmjs.org/fetch-mock-cache/-/fetch-mock-cache-2.3.0.tgz","fileCount":48,"integrity":"sha512-nhe+t2v8bxgS/nmY181XOTOEzZ/p98RlVHwfvXMlL7FfMGGWsy2OiYRt7VKBWkkDqfaLumlaxdr687aJxlD0HA==","signatures":[{"sig":"MEQCIA+WObYScKXIY7aQCl+GBV2/n5QciK/avQt9uE4vE5e/AiB6ys1oLIT86aELihX6DAC4rJVx+Je45XdQGEOyu40gGQ==","keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U"}],"unpackedSize":108787},"main":"lib/index.js","type":"module","types":"lib/index.d.ts","exports":{".":"./lib/index.js","./cache":"./lib/cache.js","./store":"./lib/store.js","./cache.js":"./lib/cache.js","./cache.ts":"./lib/cache.js","./store.js":"./lib/store.js","./store.ts":"./lib/store.js","./stores/fs":"./lib/stores/fs.js","./runtimes/bun":"./lib/runtimes/bun.js","./stores/fs.js":"./lib/stores/fs.js","./stores/fs.ts":"./lib/stores/fs.js","./runtimes/deno":"./lib/runtimes/deno.js","./runtimes/node":"./lib/runtimes/node.js","./stores/memory":"./lib/stores/memory.js","./runtimes/bun.js":"./lib/runtimes/bun.js","./runtimes/bun.ts":"./lib/runtimes/bun.js","./runtimes/deno.js":"./lib/runtimes/deno.js","./runtimes/deno.ts":"./lib/runtimes/deno.js","./runtimes/node.js":"./lib/runtimes/node.js","./runtimes/node.ts":"./lib/runtimes/node.js","./stores/memory.js":"./lib/stores/memory.js","./stores/memory.ts":"./lib/stores/memory.js"},"gitHead":"650c097bf09c3f1e5cc17dbd8d084cc570c98396","scripts":{"ci":"tsc --noEmit && pnpm biome ci && pnpm run coverage && cd tests/runtimes && ./test.sh","lint":"pnpm biome lint src","test":"node --experimental-vm-modules --test --import tsx `glob 'src/**/*.spec.ts'`","build":"tsc","format":"pnpm format --write src","coverage":"node --experimental-vm-modules --test --import tsx --experimental-test-coverage --test-reporter=lcov --test-reporter-destination=lcov.info `glob 'src/**/*.spec.ts'`","test:all":"pnpm run test && pnpm run build && pnpm run lint","prepublishOnly":"pnpm run build","coverage:output":"node --experimental-vm-modules --test --import tsx --experimental-test-coverage `glob 'src/**/*.spec.ts'`"},"_npmUser":{"name":"gadicc","email":"dragon@wastelands.net"},"repository":{"url":"git+https://github.com/gadicc/fetch-mock-cache.git","type":"git"},"_npmVersion":"10.8.2","description":"Caching mock fetch implementation for all runtimes and frameworks.","directories":{},"_nodeVersion":"20.19.5","dependencies":{"debug":"^4.3.4","filenamify-url":"2.1.2"},"_hasShrinkwrap":false,"packageManager":"pnpm@10.15.1","devDependencies":{"tsx":"^4.19.1","glob":"^11.0.0","expect":"^29.7.0","globals":"^15.10.0","typescript":"^5.6.2","@types/node":"^20.4.2","@types/debug":"^4.1.8","@biomejs/biome":"^2.2.5","semantic-release":"^24.1.2","@sebbo2002/semantic-release-jsr":"^2.0.1","conventional-changelog-conventionalcommits":"^8.0.0"},"_npmOperationalInternal":{"tmp":"tmp/fetch-mock-cache_2.3.0_1759666642002_0.330248307610288","host":"s3://npm-registry-packages-npm-production"}},"2.3.1":{"name":"fetch-mock-cache","version":"2.3.1","description":"Caching mock fetch implementation for all runtimes and frameworks.","main":"lib/index.js","type":"module","types":"lib/index.d.ts","scripts":{"test":"node --experimental-vm-modules --test --import tsx `glob 'src/**/*.spec.ts'`","test:all":"pnpm run test && pnpm run build && pnpm run lint","lint":"pnpm biome lint src","format":"pnpm biome format --write src","build":"tsc","prepublishOnly":"pnpm run build","coverage:output":"node --experimental-vm-modules --test --import tsx --experimental-test-coverage `glob 'src/**/*.spec.ts'`","coverage":"node --experimental-vm-modules --test --import tsx --experimental-test-coverage --test-reporter=lcov --test-reporter-destination=lcov.info `glob 'src/**/*.spec.ts'`","ci":"tsc --noEmit && pnpm biome ci && pnpm run coverage && cd tests/runtimes && ./test.sh"},"repository":{"type":"git","url":"git+https://github.com/gadicc/fetch-mock-cache.git"},"keywords":["fetch","mock","fetch-mock","node:test","vitest","jest","cache","bun","deno"],"author":{"name":"Gadi Cohen","email":"dragon@wastelands.net"},"license":"MIT","bugs":{"url":"https://github.com/gadicc/fetch-mock-cache/issues"},"homepage":"https://github.com/gadicc/fetch-mock-cache#readme","exports":{".":"./lib/index.js","./cache":"./lib/cache.js","./cache.ts":"./lib/cache.js","./cache.js":"./lib/cache.js","./runtimes/node":"./lib/runtimes/node.js","./runtimes/node.ts":"./lib/runtimes/node.js","./runtimes/node.js":"./lib/runtimes/node.js","./runtimes/bun":"./lib/runtimes/bun.js","./runtimes/bun.ts":"./lib/runtimes/bun.js","./runtimes/bun.js":"./lib/runtimes/bun.js","./runtimes/deno":"./lib/runtimes/deno.js","./runtimes/deno.ts":"./lib/runtimes/deno.js","./runtimes/deno.js":"./lib/runtimes/deno.js","./store":"./lib/store.js","./store.ts":"./lib/store.js","./store.js":"./lib/store.js","./stores/fs":"./lib/stores/fs.js","./stores/fs.ts":"./lib/stores/fs.js","./stores/fs.js":"./lib/stores/fs.js","./stores/memory":"./lib/stores/memory.js","./stores/memory.ts":"./lib/stores/memory.js","./stores/memory.js":"./lib/stores/memory.js"},"devDependencies":{"@biomejs/biome":"^2.2.5","@sebbo2002/semantic-release-jsr":"^2.0.1","@types/debug":"^4.1.8","@types/node":"^20.4.2","conventional-changelog-conventionalcommits":"^8.0.0","expect":"^29.7.0","glob":"^11.0.0","globals":"^15.10.0","semantic-release":"^24.1.2","tsx":"^4.19.1","typescript":"^5.6.2"},"dependencies":{"debug":"^4.3.4","filenamify-url":"2.1.2"},"packageManager":"pnpm@10.15.1","_id":"fetch-mock-cache@2.3.1","gitHead":"e7ea92a65253aa2cd07ebb44c8e3d02da2a1d0c5","_nodeVersion":"20.19.5","_npmVersion":"10.8.2","dist":{"integrity":"sha512-hDk+Nbt0Y8Aq7KTEU6ASQAcpB34UjhkpD3QjzD6yvEKP4xVElAqXrjQ7maL+LYMGafx51Zq6qUfDM57PNu/qMw==","shasum":"1018f5fc2f91cf2511abcea8a5e3a3b05e2d02bf","tarball":"https://registry.npmjs.org/fetch-mock-cache/-/fetch-mock-cache-2.3.1.tgz","fileCount":48,"unpackedSize":111788,"signatures":[{"keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U","sig":"MEQCIFhgEQWup6HJA1VshStYZ/t4byJjtdD723l/Jp9aJxghAiAm3F6/dbwEbSObn8uRs6bYC+cYbh/CVM75OSMfNtEQaw=="}]},"_npmUser":{"name":"gadicc","email":"dragon@wastelands.net"},"directories":{},"maintainers":[{"name":"gadicc","email":"dragon@wastelands.net"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages-npm-production","tmp":"tmp/fetch-mock-cache_2.3.1_1760172545086_0.10868800424233349"},"_hasShrinkwrap":false}},"time":{"created":"2024-10-11T10:32:32.853Z","modified":"2025-10-11T08:49:05.484Z","2.0.0":"2024-10-11T10:32:33.020Z","2.0.1":"2024-10-11T11:04:25.596Z","2.0.2":"2024-10-14T07:41:47.715Z","2.0.3":"2024-10-24T09:07:57.937Z","2.1.0":"2024-10-26T10:31:03.280Z","2.1.1":"2025-02-27T09:27:20.495Z","2.1.2":"2025-02-27T10:04:22.686Z","2.1.3":"2025-02-27T10:16:01.261Z","2.2.0":"2025-08-16T14:07:24.326Z","2.3.0":"2025-10-05T12:17:22.196Z","2.3.1":"2025-10-11T08:49:05.276Z"},"bugs":{"url":"https://github.com/gadicc/fetch-mock-cache/issues"},"author":{"name":"Gadi Cohen","email":"dragon@wastelands.net"},"license":"MIT","homepage":"https://github.com/gadicc/fetch-mock-cache#readme","keywords":["fetch","mock","fetch-mock","node:test","vitest","jest","cache","bun","deno"],"repository":{"type":"git","url":"git+https://github.com/gadicc/fetch-mock-cache.git"},"description":"Caching mock fetch implementation for all runtimes and frameworks.","maintainers":[{"name":"gadicc","email":"dragon@wastelands.net"}],"readme":"# fetch-mock-cache\n\nCaching mock fetch implementation for all runtimes and frameworks.\n\nCopyright (c) 2023 by Gadi Cohen. [MIT Licensed](./LICENSE.txt).\n\n[![NPM Version](https://img.shields.io/npm/v/fetch-mock-cache?logo=npm)](https://www.npmjs.com/package/fetch-mock-cache)\n[![JSR](https://jsr.io/badges/@gadicc/fetch-mock-cache)](https://jsr.io/@gadicc/fetch-mock-cache)\n[![JSR Score](https://jsr.io/badges/@gadicc/fetch-mock-cache/score)](https://jsr.io/@gadicc/fetch-mock-cache)\n![GitHub Workflow Status (with event)](https://img.shields.io/github/actions/workflow/status/gadicc/jest-fetch-mock-cache/release.yml)\n![Coverage](https://img.shields.io/endpoint?url=https://gist.githubusercontent.com/gadicc/26d0f88b04b6883e1a6bba5b9b344fab/raw/fetch-mock-cache-lcov-coverage.json)\n[![semantic-release](https://img.shields.io/badge/%20%20%F0%9F%93%A6%F0%9F%9A%80-semantic--release-e10079.svg)](https://github.com/semantic-release/semantic-release)\n[![TypeScript](https://img.shields.io/badge/%3C%2F%3E-TypeScript-%230074c1.svg)](http://www.typescriptlang.org/)\n[![MIT License](https://img.shields.io/badge/license-MIT-blue.svg)](./LICENSE)\n\n\n## üèÅ Introduction\n\n- üí° **Tired of writing mocks?**  \n  Skip manually crafting `fetch()` mocks ‚Äî just run a real `fetch()` once and auto cache the result.\n\n- ‚ö° **Fast feedback loop**  \n  Cached responses make tests run *much* faster ‚Äî ideal for TDD (Test Driven Development) against real APIs.\n\n- üë• **Team & CI friendly**  \n  Commit the cache to your repo so everyone (and your CI) benefits from consistent, speedy tests.\n\n- üîß **Proven approach**  \n  Used by [yahoo-finance2](https://www.npmjs.com/package/yahoo-finance2) to test 1400+ API calls in < 1s on every commit.\n\n- üí¨ **Open to ideas**  \n  Feature requests and contributions welcome!\n\nNB: if you're still using **v1** (formerly `jest-fetch-mock-cache`),\nsee the [old README](https://github.com/gadicc/fetch-mock-cache/tree/1.x)\nand/or [MIGRATING.md](./MIGRATING.md) for how to upgrade.\n\n## Quick Start\n\nGenerally your code will look something like this, but, **see further below** for\nthe [**exact code for different runtimes and testing frameworks**](#runtimes)\n.\n\n```ts\n// Default for node runtime, see grid below for bun/deno.\nimport createFetchCache from \"fetch-mock-cache\";\n// See list of possible stores, below.\nimport Store from \"fetch-mock-cache/stores/fs\";\n\nconst fetchCache = createFetchCache({ Store });\n\ndescribe(\"cachingMock\", () => {\n  it(\"works with a JSON response\", async (t) => {\n    const url = \"http://echo.jsontest.com/key/value/one/two\";\n    const expectedResponse = { one: \"two\", key: \"value\" };\n    t.mock.method(globalThis, \"fetch\", fetchCache);\n\n    for (let i = 0; i < 2; i++) {\n      const response = await fetch(url);\n      const data = await response.json();\n      const expectedCacheHeader = i === 0 ? \"MISS\" : \"HIT\";\n      expect(response.headers.get(\"X-FMC-Cache\")).toBe(expectedCacheHeader);\n      expect(data).toEqual(expectedResponse);\n    }\n  });\n});\n```\n\n- The **first** time this runs, a _real_ request will be made to\n  `jsontest.com`, and the result returned. But, it will also be\n  saved to cache.\n\n- **Subsequent requests** will return the cached copy without\n  making an HTTP request.\n\n- **Commit `tests/fixtures/http`** (default) to your repo for\n  super fast tests in the future for all contributors and CI.\n\n<a name=\"runtimes\"></a>\n\n## Supported runtimes and test frameworks\n\nClick on the \"Quick Start / Example\" links to see a working implementation for your framework of choice.\n\n| Runtime                         | Framework                                                          | Status                                                                                                                                                                                                                                                                                     | Quick Start / Example                                                                                                                           |\n| ------------------------------- | ------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------- |\n| [Node](https://nodejs.org/) 20+ | [`node:test`](https://nodejs.org/api/test.html)                    | ![Dynamic YAML Badge](https://img.shields.io/badge/dynamic/yaml?url=https%3A%2F%2Fgist.githubusercontent.com%2Fgadicc%2Ff66f0ad9395e4019ec5209719377650b%2Fraw%2Fedbb28289e9c452d4d1f482454dd02ff41a8b255%2Fresults.yaml&query=%24.node.native&logo=nodedotjs&label=%20&labelColor=%23ddd) | [direct](./tests/runtimes/node/src/native-direct-mock.spec.ts) or with [fetch-mock](./tests/runtimes/node/src/native-fetch-mock.spec.ts)        |\n|                                 | [`jest`](https://jestjs.io/)                                       | ![Dynamic YAML Badge](https://img.shields.io/badge/dynamic/yaml?url=https%3A%2F%2Fgist.githubusercontent.com%2Fgadicc%2Ff66f0ad9395e4019ec5209719377650b%2Fraw%2Fedbb28289e9c452d4d1f482454dd02ff41a8b255%2Fresults.yaml&query=%24.node.jest&logo=jest&label=%20&labelColor=%23aaa)        | [direct](./tests/runtimes/node/src/jest-direct-mock.spec.ts) or with [jest-fetch-mock](./tests/runtimes/node/src/jest-fetch-mock.spec.ts)       |\n|                                 | [`vitest`](https://vitest.dev/)                                    | ![Dynamic YAML Badge](https://img.shields.io/badge/dynamic/yaml?url=https%3A%2F%2Fgist.githubusercontent.com%2Fgadicc%2Ff66f0ad9395e4019ec5209719377650b%2Fraw%2Fedbb28289e9c452d4d1f482454dd02ff41a8b255%2Fresults.yaml&query=%24.node.vitest&logo=vitest&label=%20&labelColor=%23ddd)    | [direct](./tests/runtimes/node/src/vitest-direct-mock.spec.ts) or with [vitest-fetch-mock](./tests/runtimes/node/src/vitest-fetch-mock.spec.ts) |\n| [Deno](https://deno.com/)       | [`deno test`](https://docs.deno.com/runtime/fundamentals/testing/) | ![Dynamic YAML Badge](https://img.shields.io/badge/dynamic/yaml?url=https%3A%2F%2Fgist.githubusercontent.com%2Fgadicc%2Ff66f0ad9395e4019ec5209719377650b%2Fraw%2Fedbb28289e9c452d4d1f482454dd02ff41a8b255%2Fresults.yaml&query=%24.deno.native&logo=deno&label=%20&labelColor=%23aaa)      | [direct](./tests/runtimes/deno/src/direct-mock.test.ts)                                                                                         |\n| [Bun](https://bun.sh/)          | [`bun:test`](https://bun.sh/docs/cli/test)                         | ![Dynamic YAML Badge](https://img.shields.io/badge/dynamic/yaml?url=https%3A%2F%2Fgist.githubusercontent.com%2Fgadicc%2Ff66f0ad9395e4019ec5209719377650b%2Fraw%2Fedbb28289e9c452d4d1f482454dd02ff41a8b255%2Fresults.yaml&query=%24.bun.native&logo=bun&label=%20&labelColor=%23aaa)        | [direct](./tests/runtimes/bun/src/direct.spec.ts), maybe soon [`bun-bagel`](https://github.com/DRFR0ST/bun-bagel)                               |\n\n## What's cached\n\nSample output from the Quick Start code above, when used with `NodeFSStore`:\n\n```bash\n$ cat tests/fixtures/http/echo.jsontest.com\\!key\\!value\\!one\\!two\n```\n\n```js\n{\n  \"request\": {\n    \"url\": \"http://echo.jsontest.com/key/value/one/two\"\n  },\n  \"response\": {\n    \"ok\": true,\n    \"status\": 200,\n    \"statusText\": \"OK\",\n    \"headers\": {\n      \"access-control-allow-origin\": \"*\",\n      \"connection\": \"close\",\n      \"content-length\": \"39\",\n      \"content-type\": \"application/json\",\n      \"date\": \"Fri, 21 Jul 2023 16:59:17 GMT\",\n      \"server\": \"Google Frontend\",\n      \"x-cloud-trace-context\": \"344994371e51195ae21f236e5d7650c4\"\n    },\n    \"bodyJson\": {\n      \"one\": \"two\",\n      \"key\": \"value\"\n    }\n  }\n}\n```\n\nJSON bodies are stored as a decoded object in `bodyJSON` for increased\nreadability.  Text bodies are stored as a string in `bodyText`, and\nbinary bodies are stored as a Base64 encoded string in `bodyBase64`.\n\n## Debugging\n\nWe use [debug](https://www.npmjs.com/package/debug) for debugging. E.g.:\n\n```bash\n$ DEBUG=fetch-mock-cache:* yarn test\nyarn run v1.22.19\n$ jest\n  fetch-mock-cache:core Fetching and caching 'http://echo.jsontest.com/key/value/one/two' +0ms\n  fetch-mock-cache:core Using cached copy of 'http://echo.jsontest.com/key/value/one/two' +177ms\n PASS  src/index.spec.ts\n  cachingMock\n    ‚úì should work (180 ms)\n```\n\n## Available Stores\n\n- [`stores/fs`](./src/stores/fs.ts) - use your runtime's FileSystem API to\n  store cached requests to the filesystem, for persistance. These can be\n  committed to your projects repository / source control for faster future\n  testing, including for CI.\n\n- [`stores/memory`](./src/stores/memory.ts) - keep the cache in memory.\n  The cache will not persist and will be created again from scratch each\n  time you run your code.\n\n### Create your own Store\n\nSee also the [`store`](./src/store.ts) \"root\" class. Don't instantiate\ndirectly; rather extend this class overriding at least `fetchContent` and\n`storeContent`, and perhaps, `idFromRequest`, the constructor and others\naccording to your needs. Here's an example to combine with a database:\n\n```ts\nimport FMCStore from \"fetch-mock-cache/store\";\nimport type { FMCCacheContent, FMCStoreOptions } from \"fetch-mock-cache/store\";\nimport db from \"./db\"; // your existing db\n\nexport default class MyStore extends FMCStore {\n  async fetchContent(req: FMCCacheContent[\"request\"]) {\n    const _id = await this.idFromRequest(request);\n    return (await db.collection(\"fmc\").findOne({ _id })).content;\n  }\n  async storeContent(content: FMCCacheContent) {\n    const _id = await this.idFromRequest(content.request);\n    await db.collection(\"jfmc\").insertOne({ _id, content });\n  }\n}\n```\n\n## Overriding the Default Caching Behaviour\n\n### Passing options to be used for the next `fetch()` call\n\n```ts\n// These will be used for the next fetch call ONCE only.  However, `once()`\n// may be called multiple times to queue options for multiple future calls.\nfetchCache.once({\n  /* options */\n});\n```\n\n### Manually specifying an ID\n\nGenerally we don't need to think about cache IDs, as we can reliably\ngenerate them from the `Request` object (e.g. based on URL and hashes\nof the headers, body, etc.).\n\nBut sometimes, we may want to specify this manually, e.g.\n\n1. **We'd rather use the _test name_** as the id, vs something URL-based.\n2. **It can't be reliably generated**, e.g. formData with a random boundary.\n\nIn this case, we can:\n\n```ts\nfetchCache.once({ id: \"mytest\" });\nfetch(/* ... */); // or code that uses fetch();\n```\n\nMake sure the `id` is relevant for your store. e.g. if using the fs store,\nmake sure `id` is a valid file name (the fs store will still append `.json`\nat the end).\n\n### Manually controlling cache behaviour\n\nYou can also pass the following to `fetchCache.once`:\n\n```ts\n{\n  id?: string; // as above\n  /** True (default): use cached response if available; false: always fetch from network.\n   * You can also provide a promise or function that returns a boolean or promise.\n   */\n  readCache?:\n    | boolean\n    | Promise<boolean>\n    | ((...args: Parameters<FMCStore[\"fetchContent\"]>) => Promise<boolean>);\n  /** If a fetch was performed, should we write it to the cache?  Can be a boolean, a\n   * promise, or a function that returns a boolean or promise.  In the case of a promise,\n   * the write will open occur when the promise resolves, and AFTER the response is\n   * returned.  This allows for more complex patterns, where e.g. you could rely on the\n   * further processing of the response in other functions before deciding whether to\n   * cache it or not, but does require some extra care.\n   */\n  writeCache?:\n    | boolean\n    | Promise<boolean>\n    | ((...args: Parameters<FMCStore[\"storeContent\"]>) => Promise<boolean>);\n}\n```\n\nSee below in Tips & Tricks on how you can leverage this to conditionally replace the\ncache for failing tests.\n\n\n## Internal and Experimental Features\n\nInternal and experimental features are generally prefixed by an underscore (\"`_`\").\nYou're welcome to use them, however, they are not part of our API contract - as such,\nthey may change or disappear at any time, _without following semantic versioning_.\n\nOften these are used for new ideas that are still in development, where, we'd like\nyou to have easy access to them (and appreciate your feedback!), but, they're not\n(yet) considered stable.\n\nCurrent experiments:\n\nNone.\n\nPrevious experiments:\n\n*  `_once()` has been promoted to `_once()` after a long, succesful testing period.\n\n## Tips & Tricks\n\n### Rewrite the cache only for failing tests.\n\n1. Let's wrap the `it()` function to allow a callback after the test\n\n   ```ts\n   import { it as _it } from \"...\"; // your fave library\n\n   export const it = function wrappedIt(\n     suite: string,\n     fn: (\n       t: Parameters<typeof _it>[0],\n       onFinish: (cb: (error?: unknown) => void | Promise<void>) => void,\n     ) => void | Promise<void>,\n   ) {\n     const finishCallbacks = [] as Array<(error?: unknown) => void>;\n\n     const onFinish = (cb: (error?: unknown) => void) => {\n       finishCallbacks.push(cb);\n     };\n\n     const finish = (error?: unknown) => {\n       for (const cb of finishCallbacks) {\n         cb(error);\n       }\n     };\n\n     const wrappedFn = (t: Deno.TestContext) => {\n       let result: ReturnType<typeof fn>;\n       try {\n         result = fn(t, onFinish);\n       } catch (error) {\n         finish(error);\n         throw error;\n       }\n\n       if (result === undefined) {\n         finish();\n         return undefined;\n       }\n\n       if (result instanceof Promise) {\n         return result.then(finish).catch((error) => {\n           finish(error);\n           throw error;\n         });\n       }\n\n       throw new Error(\n         `Test \"${name}\" failed with unexpected result: ${result}`,\n       );\n     };\n\n     _it(suite, wrappedFn);\n   };\n   ```\n\n2. Now do something like this:\n\n   ```ts\n   import { it } from \"above\";\n   import fetchCache from \"wherever-you-set-it-up\";\n\n   function conditionalCache(onFinish) {\n     if (process.env.FETCH_CACHE === \"recache\")\n       // i.e. if the test fails and has an error, then `writeCache` resolves to \"true\"\n       fetchCache.once({ readCache: false, writeCache: onFinish.then(error => !!error)})\n   }\n\n   it(\"rewrites the cache on fail\", async(_t, onFinish) => {\n     conditionalCache(onFinish);\n     const response = await fetch(...);\n     const result = await response.json();\n     expect(result).toMatch({\n       success: true\n     });\n   })\n   ```\n\n3. Now, by default, we'll use the cache as normal. However, if you set\n   `FETCH_CACHE=\"recache\"`, we won't use the cache, and if the test fails,\n   we'll replace the cached result.\n\n   This is super useful for testing if API response (and not your code)\n   has changed, commit the new responses, and then adapt your code as\n   necessary. You'd only do this after first making sure all your existing\n   tests are passing.\n\n## TODO\n\n- [x] Cache request headers too and hash them in filename / key / id.\n- [ ] Browser-environment support. Please open an issue if you need this, and in what cases. jsdom?\n- [ ] Handle and store invalid JSON too?\n\n```\n\n```\n","readmeFilename":"README.md"}